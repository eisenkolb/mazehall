#!/usr/bin/env node

var option, program, cli

program = require("commander");
cli = require("../lib/cli");

program.description("Builds a new MAZEHALL module")
       .option("-s, --source <source>", "source folder for the module [default: app_modules]")
       .parse(process.argv);

option = {
    source: program.source ? program.source : 'app_modules',
    name: program.args.length ? program.args[0] : null
};

if (option.name === null || option.source === null) {
    console.log("Module name is required");
    return program.help();
}
if (option.source === null) {
    console.log("Module source folder is required");
    return program.help();
}

cli.init(option.name, option.source)